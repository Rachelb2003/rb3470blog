{
  "hash": "08fc2b957cf04e0a3c0ea02fef3045da",
  "result": {
    "markdown": "---\ntitle: \"tidy tuesday 2\"\nAuthor: \"Rachel Babadzhanov\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nplots <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-05-02/plots.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 8 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): treatment\ndbl (1): plot\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nspecies <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-05-02/species.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 21 Columns: 15\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (4): species, scientificname, taxa, commonname\ndbl (11): censustarget, unidentified, rodent, granivore, minhfl, meanhfl, ma...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nsurveys <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-05-02/surveys.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 28364 Columns: 22\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (14): treatment, species, sex, reprod, age, testes, vagina, pregnant, n...\ndbl   (7): month, day, year, plot, stake, hfl, wgt\ndate  (1): censusdate\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#install.packages(\"tidytuesdayR\")\n```\n:::\n\n\n## load libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n```\n:::\n:::\n\n\n\n\n## mice per year\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmice_count_by_year <- surveys %>%\n  group_by(year) %>%\n  count()\n\nggplot(mice_count_by_year, aes(x= year, y=n))+\n  geom_line() +\n  geom_point()+\n  ggtitle(\"Mice count by year\")+\n  scale_x_continuous(breaks=seq(1980,2020,5))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n## mice per year by sex\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmice_count_by_year_sex <- surveys %>%\n  group_by(year,sex) %>%\n  count()\n\nggplot(mice_count_by_year_sex, aes(x= year, y=n, color=sex))+\n  geom_line() +\n  ggtitle(\"Mice count by year and sex\")+\n  scale_x_continuous(breaks=seq(1980,2020,5))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## mice per year by species\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmice_count_by_year_species <- surveys %>%\n  group_by(year,species) %>%\n  count()\n\nggplot(mice_count_by_year_species, aes(x= year, \n                                       y=n, \n                                       color=species,\n                                       shape= species))+\n  geom_line() +\n  geom_point() +\n  ggtitle(\"Mice count by year and species\")+\n  scale_x_continuous(breaks=seq(1980,2020,5))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The shape palette can deal with a maximum of 6 discrete values because\nmore than 6 becomes difficult to discriminate; you have 20. Consider\nspecifying shapes manually if you must have them.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 321 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(mice_count_by_year_species, aes(x= year, \n                                       y=n, \n                                       color=species))+\n  geom_line() +\n  geom_point() +\n  ggtitle(\"Mice count by year and species\")+\n  scale_x_continuous(breaks=seq(1980,2020,5)) +\n  facet_wrap(~species)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n:::\n\n\n## Pregnancy by month\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmonthly_data <- surveys %>%\n  mutate(month_string = lubridate::month(censusdate,label= T)) %>%\n  group_by(month) %>%\n  count(pregnant) %>%\n  pivot_wider(names_from=pregnant, values_from = n) %>%\n  mutate(proportion_pregnant = P/(P+`NA`))\n\nggplot(monthly_data, aes(x=month, y=proportion_pregnant))+\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
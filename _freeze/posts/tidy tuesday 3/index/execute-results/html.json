{
  "hash": "8c6a78230b2a1dc8d2ca1c129d12c9ca",
  "result": {
    "markdown": "---\ntitle: \"tidy tuesday 3\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ninstall.packages(\"tidytuesdayR\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nInstalling package into '/cloud/lib/x86_64-pc-linux-gnu-library/4.2'\n(as 'lib' is unspecified)\n```\n:::\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load('2023-01-24')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Compiling #TidyTuesday Information for 2023-01-24 ----\n--- There are 4 files available ---\n--- Starting Download ---\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tDownloading file 1 of 4: `survivalists.csv`\n\tDownloading file 2 of 4: `loadouts.csv`\n\tDownloading file 3 of 4: `episodes.csv`\n\tDownloading file 4 of 4: `seasons.csv`\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Download complete ---\n```\n:::\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load(2023, week = 4)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Compiling #TidyTuesday Information for 2023-01-24 ----\n--- There are 4 files available ---\n--- Starting Download ---\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tDownloading file 1 of 4: `survivalists.csv`\n\tDownloading file 2 of 4: `loadouts.csv`\n\tDownloading file 3 of 4: `episodes.csv`\n\tDownloading file 4 of 4: `seasons.csv`\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Download complete ---\n```\n:::\n\n```{.r .cell-code}\nalone <- tuesdata$alone\n\nsurvivalists <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-24/survivalists.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 94 Columns: 16\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (10): name, gender, city, state, country, reason_tapped_out, reason_cate...\ndbl  (5): season, age, result, days_lasted, day_linked_up\nlgl  (1): medically_evacuated\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nloadouts <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-24/loadouts.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 940 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): version, name, item_detailed, item\ndbl (2): season, item_number\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nepisodes <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-24/episodes.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 98 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (4): version, title, quote, author\ndbl  (6): season, episode_number_overall, episode, viewers, imdb_rating, n_r...\ndate (1): air_date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nseasons <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-24/seasons.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 9 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (3): version, location, country\ndbl  (4): season, n_survivors, lat, lon\ndate (1): date_drop_off\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n \ndf <- expand_grid(\n  days_lasted = 0:max(survivalists$days_lasted),\n  gender = unique(survivalists$gender)\n) |> \n  left_join(\n    survivalists |> \n      count(days_lasted, gender),\n    by = c(\"days_lasted\", \"gender\")\n  ) |> \n  left_join(\n    survivalists |> \n      count(gender, name = \"N\"),\n    by = \"gender\"\n  ) |> \n  group_by(gender) |> \n  mutate(\n    n = replace_na(n, 0),\n    n_lasted = N-cumsum(n),\n    p = n_lasted/N\n  ) \n \n# Kaplan-Meier survival curves\n# code is simplified and plot won't match below\ndf |> \n  ggplot(aes(days_lasted, p, colour = gender)) +\n  geom_line() \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(forcats)\n \nloadouts |>\n  count(item) |>\n  mutate(item = fct_reorder(item, n, max)) |>\n  ggplot(aes(item, n)) +\n  geom_col() +\n  geom_text(aes(item, n + 3, label = n), size = 3) +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#create scatterplot\nggplot(data = episodes, \n                mapping = aes(x = season, \n                              y = episode_number_overall\n                              )) +\n  geom_point(alpha = 0.5) +\n  labs(x = \"season\",\n       y = \"episode number overall\",\n       title = \"season by episode number overall\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
{
  "hash": "9e77e516a6f86c7e20bda09f143d5777",
  "result": {
    "markdown": "---\ntitle: \"tidy tuesday 1: London Marathon\"\nAuthor: \"Rachel Babadzhanov\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\n# read in data\nlondon_marathon <- read_csv(\"data/london_marathon.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 42 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (1): Official charity\ndbl  (6): Year, Applicants, Accepted, Starters, Finishers, Raised\ndate (1): Date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nwinners <- read_csv(\"data/winners.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 165 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (3): Category, Athlete, Nationality\ndbl  (1): Year\ntime (1): Time\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# london marathon plot\nlondon_plot <- london_marathon %>%\n  filter(Year < 2020) %>%\n  mutate(Year = factor(Year))\n\nggplot(\n  data = london_plot,\n  mapping = aes(y = Year)\n) +\n  geom_point(aes(x = Starters),\n    colour = \"#008080\"\n  ) +\n  geom_point(aes(x = Finishers),\n    colour = \"#800080\"\n  ) +\n  geom_segment(aes(\n    x = Starters,\n    xend = Finishers,\n    y = Year,\n    yend = Year\n  )) +\n  labs(\n    x = \"Number of runners\",\n    title = \"Number of London Marathon Starters and Finishers\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.title.y = element_blank(),\n    plot.background = element_rect(fill = \"white\", colour = \"white\"),\n    panel.background = element_rect(fill = \"white\", colour = \"white\")\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave(filename = \"london_marathon.png\", height = 7, width = 5)\n\n# winners plot\nwinners_plot <- winners %>%\n  group_by(Nationality) %>%\n  summarise(n = n())\n\nggplot(\n  data = winners_plot,\n  mapping = aes(\n    y = reorder(Nationality, n),\n    x = n\n  )\n) +\n  geom_col(fill = \"#e00601\") +\n  geom_text(aes(label = n),\n    colour = \"#e00601\",\n    hjust = -1\n  ) +\n  labs(\n    x = \"Number of winners\",\n    title = \"Nationality of London Marathon Winners\"\n  ) +\n  scale_x_continuous(limits = c(0, 50)) +\n  coord_cartesian(expand = FALSE) +\n  theme_minimal() +\n  theme(\n    axis.title.y = element_blank(),\n    plot.background = element_rect(fill = \"white\", colour = \"white\"),\n    panel.background = element_rect(fill = \"white\", colour = \"white\")\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave(filename = \"winners.png\", height = 7, width = 5)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#create scatterplot\nggplot(data = london_marathon, \n                mapping = aes(x = Accepted, \n                              y = Year\n                              )) +\n  geom_point(alpha = 0.5) +\n  labs(x = \"Accepted\",\n       y = \"Year\",\n       title = \"Accepted by Year\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
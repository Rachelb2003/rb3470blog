{
  "hash": "9ba27c77c2b7930f0d2fa0d93c0b4ac9",
  "result": {
    "markdown": "---\ntitle: \"week 7\"\nauthor: \"rachel babadzhanov\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n##Make vectors before, then tibble, then GGPLOT\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ngrades <- c(2.5, 8, 4)\nstudents <- c(\"A\" , \"B\", \"C\")\nstudent_performance <- tibble(grades, students)\n\n# alternate Syntax\n\nstudent_performance2 <- tibble(\n  grades = c(2.5, 8, 4),\n  students =c(\"A\",\"B\",\"C\")\n \n)\n#this has a Y limiter\nggplot(data=student_performance, aes(x=students, y=grades))+\n  geom_bar(stat= \"identity\", fill = \"white\" , color = \"blue\")+\n  scale_y_continuous(breaks = 0:10,limits = c(0,10))+\n  theme_classic(base_size = 12) +\n  geom_text(label = grades, position = position_dodge(width =.9) , vjust = .001)+\n  xlab(\"Students\")+\n  ylab(\"Grades\")+\n  ggtitle(\"Student Performance\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfactor_one <- rep(rep(as.factor(c(\"A\", \"B\", \"C\")), 2), 2)\nfactor_two <- rep(rep(as.factor(c(\"IIA\", \"IIB\")), 3), 2)\nfactor_three <- rep(as.factor(c(\"IIIA\", \"IIIB\")), each = 6)\ndv_means <- c(20, 30, 40, 20, 40, 40,\n          \t10, 20, 50, 50, 10, 10)\ndv_SEs   <- c(4, 3.4, 4, 3, 2, 4,\n          \t1, 2, 1, 2, 3, 2)\nplot_df <- data.frame(factor_one,\n                  \tfactor_two,\n                  \tfactor_three,\n                  \tdv_means,\n                  \tdv_SEs)\n\n# basic bar graph\n\nggplot(plot_df,\n   \taes(\n     \tx = factor_one,\n     \ty = dv_means,\n     \tgroup = factor_two,\n     \tfill = factor_two\n   \t)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  facet_wrap( ~ factor_three)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstudies <- rep(c(\"Doctor \\n Study 1 \\n N = 199\",\n             \"Butcher \\n Study 2 \\n n = 199\",\n             \"Firefighter \\n Study 2 \\n n = 200\",\n             \"Construction \\n Worker \\n Study 2 \\n n = 205\"), each=3)\nlikely <- rep(c(\"Women More Likely\",\n            \"Equally Likely\",\n            \"Man more Likely\"),4)\n\npp <- c(0,90,10,\n        5,60,35,\n        2,40,58,\n        5,60,35)/100\n\nplot_df <- data.frame(pp,studies,likely)\n\nplot_df$likely <- factor(plot_df$likely, \n                         levels = c(\"Women More Likely\",\n                                    \"Equally Likely\",\n                                    \"Man more Likely\"))\n\nplot_df$studies <- factor(plot_df$studies, \n                         levels = c(\"Doctor \\n Study 1 \\n N = 199\",\n             \"Butcher \\n Study 2 \\n n = 199\",\n             \"Firefighter \\n Study 2 \\n n = 200\",\n             \"Construction \\n Worker \\n Study 2 \\n n = 205\"))\n\nggplot(plot_df, aes(x=studies,\n                    y=pp,\n                    group=likely,\n                    fill=likely))+\n  geom_bar(stat=\"identity\", width=.5)+\n  theme_classic(base_size=10)+\n  xlab(\"\")+\n  ylab(\"Percentage of Participants\")+\n  scale_y_continuous(breaks=seq(0,1,.1),labels = scales::percent)+\n  theme(legend.title = element_blank(),\n        axis.ticks.x.bottom = element_blank())\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n##ggplot2 - Grammar of Graphics | aes (Aestetics)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Lets put the data into a variable \nsurvey_data <- read_csv(\"https://psyteachr.github.io/ads-v2/data/survey_data.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 707 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (3): caller_id, employee_id, issue_category\ndbl  (3): wait_time, call_time, satisfaction\ndttm (1): call_start\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\n#Blank page\nggplot()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#x and Y values \nggplot(data = survey_data, \n       mapping = aes(x= wait_time, \n                     y= satisfaction))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#+ time \nggplot(data = survey_data, \n              aes(x= wait_time, \n                  y= satisfaction)) +\n    geom_point(color = \"black\", size=5)+ \n    geom_point(color = \"pink\", size=4)+\n    geom_smooth(method = \"lm\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-3.png){width=672}\n:::\n\n```{.r .cell-code}\n##Summon CSV and put it into Survey_data\nggplot(data = survey_data, \n      aes(x= wait_time, \n          y= satisfaction, \n          color = satisfaction,\n          size = satisfaction))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-4.png){width=672}\n:::\n\n```{.r .cell-code}\nmin(survey_data$wait_time)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 23\n```\n:::\n\n```{.r .cell-code}\nmax(survey_data$wait_time)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 314\n```\n:::\n\n```{.r .cell-code}\nlength(survey_data$wait_time)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 707\n```\n:::\n\n```{.r .cell-code}\nggplot(data=survey_data, mapping = aes(x= wait_time))+\n  geom_histogram(bins=50 , color=\"green\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-5.png){width=672}\n:::\n:::\n\nFill is the inside of the shape \nDv = dependent variable \ndv_SEs \nGeom_errorbar(aes(x = , y = ))\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggpubr)\n\nCondition <-rep(c(\"No \\n Transient\",\"Transient\"), each=2)\nLocation <-rep(c(\"Outside\",\"Inside\"),2)\nMMRT <- c(304,300,290,280)\nCI_upper <-c(315,310,304,290)\nCI_lower <-c(295,290,283,270)\nplot_df <-data.frame(Condition,Location,MMRT,CI_upper,CI_lower)\nplot_df$Location <- factor(plot_df$Location, \n                         levels = c(\"Outside\",\"Inside\"))\n\nvis<-ggplot(plot_df, aes(x=Condition, y=MMRT, group=Location,\n                    fill=Location))+\n  geom_bar(stat=\"identity\",position=\"dodge\", \n           color=\"black\",\n           size=.25)+\n  theme_classic()+\n  ylab(\"Mean Median RT (ms)\")+\n  coord_cartesian(ylim=c(230,340))+\n  scale_y_continuous(breaks=seq(230,340,10))+\n  scale_fill_brewer(palette=\"Greys\", direction=-1)+\n   theme(legend.position=c(0.55,0.8),\n        legend.title=element_blank(),\n        legend.key.size = unit(.5, \"cm\"))+\n  ggtitle(\"Visual Group\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n:::\n\n```{.r .cell-code}\nCondition <-rep(c(\"No \\n Transient\",\"Transient\"), each=2)\nLocation <-rep(c(\"Outside\",\"Inside\"),2)\nMMRT <- c(295,290,265,250)\nCI_upper <-c(305,300,275,260)\nCI_lower <-c(285,280,255,240)\nplot_df <-data.frame(Condition,Location,MMRT,CI_upper,CI_lower)\nplot_df$Location <- factor(plot_df$Location, \n                         levels = c(\"Outside\",\"Inside\"))\n\naud<-ggplot(plot_df, aes(x=Condition, y=MMRT, group=Location,\n                    fill=Location))+\n  geom_bar(stat=\"identity\",position=\"dodge\", \n           color=\"black\",\n           size=.25)+\n  theme_classic()+\n  ylab(\"Mean Median RT (ms)\")+\n  coord_cartesian(ylim=c(230,340))+\n  scale_y_continuous(breaks=seq(230,340,10))+\n  scale_fill_brewer(palette=\"Greys\", direction=-1)+\n   theme(legend.position=\"none\")+\n  ggtitle(\"Auditory Group\")\n\nggarrange(vis,aud)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npeople <- rep(c(\"Family\",\"Friends\",\"Colleagues\",\"Strangers\"), each=5)\nbig_five <- rep(c(\"Emotional \\n Stability\",\"Extraversion\",\"Openness/ \\n Intellect\",\n              \"Agreeableness\",\"Consientiousness\"), 4)\nmean_difference <-c(0,.3,.8,.4,.4,\n                    c(0,.3,.8,.4,.4)-.2,\n                    c(0,.3,.8,.4,.4)-.21,\n                    c(0,.3,.8,.4,.4)-.25)\ndf <- data.frame(mean_difference,people,big_five)\n\ndf$big_five <- factor(df$big_five, \n                         levels = c(\"Emotional \\n Stability\",\"Extraversion\",\"Openness/ \\n Intellect\",\n              \"Agreeableness\",\"Consientiousness\"))\n\ndf$people <- factor(df$people, \n                         levels = c(\"Family\",\"Friends\",\"Colleagues\",\"Strangers\"))\n\nggplot(df, aes(x=big_five, y=mean_difference,\n               group=people,\n               shape=people,\n               linetype=people,\n               color=people))+\n  scale_color_brewer(palette=\"Greys\", direction=-1)+\n  geom_point()+\n  geom_line()+\n  xlab(\"\")+\n  ylab(\"Mean Difference\")+\n  coord_cartesian(ylim=c(-.8,.8))+\n  scale_y_continuous(breaks=seq(-.8,.8,.2))+\n  theme_classic()+\n  geom_hline(yintercept=0)+\n  theme(axis.line.x.bottom = element_blank(),\n        axis.ticks.x.bottom = element_blank(),\n        legend.title = element_blank())\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nevaluation<-c((seq(1,7,.1)+runif(61,-2,2)),\n              (seq(1,7,.1)+runif(61,-2,2)))\npTarget <-c((seq(.92,.85,length.out=61)+runif(61,-.1,.1)),\n            (seq(.8,.4,length.out=61)+runif(61,-.5,.5)))\nGender <- rep(c(\"Man Communicated with ATC\",\n            \"Woman Communicated with ATC\"), each=61)\nplot_df<-data.frame(evaluation,pTarget,Gender)\nplot_df <- plot_df %>%\n              filter(evaluation>=1,\n                     evaluation<=7)\n\nggplot(plot_df, aes(x=evaluation,y=pTarget,\n                    group=Gender,\n                    color=Gender))+\n  geom_smooth(method=\"lm\")+\n  theme_classic()+\n  scale_y_continuous(breaks=seq(0,1,.1),labels = scales::percent)+\n  scale_x_continuous(breaks=seq(1,7,1))+\n  coord_cartesian(ylim=c(0,1))+\n  xlab(\"Evaluation of Person X\")+\n  ylab(\"P(Target = Pilot)\")+\n  theme(legend.position=c(0.45,0.2),\n        legend.title=element_blank(),\n        legend.key.size = unit(.5, \"cm\"))+\n  theme(legend.key = element_rect(colour = 'white', fill = 'white', size = 1, linetype='solid'))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nA <- rexp(200)\nB <- rnorm(200,3,sd=1)\nC <- rnorm(200,3,sd=1)\nD <- rnorm(200,3,sd=1)\nDV <- c(A,B,C,D)\nstudies <- rep(c(\"Doctor \\n Study 1 \\n N = 199\",\n             \"Butcher \\n Study 2 \\n n = 199\",\n             \"Firefighter \\n Study 2 \\n n = 200\",\n             \"Construction \\n Worker \\n Study 2 \\n n = 205\"), each=200)\n\nplot_df <-data.frame(DV,studies)\n\nplot_df$studies <- factor(plot_df$studies, \n                         levels = c(\"Doctor \\n Study 1 \\n N = 199\",\n             \"Butcher \\n Study 2 \\n n = 199\",\n             \"Firefighter \\n Study 2 \\n n = 200\",\n             \"Construction \\n Worker \\n Study 2 \\n n = 205\"))\n\nlibrary(dplyr)\n\nmeans_df <- plot_df %>%\n              group_by(studies) %>%\n              summarise(M=mean(DV),\n                        CI_lower = t.test(DV)$conf.int[1],\n                        CI_upper = t.test(DV)$conf.int[2])\n\nggplot(means_df, aes(x=studies,y=M))+\n  geom_violin(data=plot_df, aes(x=studies,y=DV),fill=\"grey\")+\n  theme_classic(base_size=10)+\n  xlab(\"\")+\n  ylab(\"Evaluation of Person X\")+\n  scale_y_continuous(breaks=seq(0,7,1))+\n  coord_cartesian(ylim=c(0,7))+\n  geom_point()+\n  geom_errorbar(aes(ymin=CI_lower,ymax=CI_upper), width=.2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nGender <- rep(c(\"Men Performed Surgery \\n n = 152\",\n            \"Women Performed Surgery \\n n = 142\"), each =3)\nParameter <- rep(c(\"Prior\",\n               \"Model \\n Posterior\",\n               \"Reported \\n Posterior\"), 2)\np <- c(.7, .88, .87, .29, .72, .76)\nci <- c(.05, .05, .05, .05, .05, .05)\nplot_df <- data.frame(p, ci, Gender, Parameter)\nplot_df$Parameter <- factor(plot_df$Parameter, \n                         levels = c(\"Prior\",\n               \"Model \\n Posterior\",\n               \"Reported \\n Posterior\"))\n\nggplot(plot_df, aes(x=Parameter, y=p, fill=Parameter))+\n  geom_bar(stat=\"identity\", position=\"dodge\")+\n  facet_wrap(~Gender)+\n  theme_classic(base_size=11)+\n  scale_fill_manual(values=c(\"#F8766D\", \"#7CAE00\", \"#C77CFF\"))+\n  ylab(\"P(Target = Doctor)\")+\n  scale_y_continuous(breaks=seq(0,1,.1),labels = scales::percent)+\n  coord_cartesian(ylim=c(0,1))+\n  theme(panel.grid = element_blank(),\n        panel.spacing.x = unit(0,\"line\"),\n        panel.border = element_blank(),\n        panel.background = element_blank())+\n  theme(strip.background = element_rect(colour = 'white', fill = 'white', size = 0))+\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
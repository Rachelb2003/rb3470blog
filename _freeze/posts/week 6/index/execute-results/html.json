{
  "hash": "9193de343962cf69b55950318c34aad7",
  "result": {
    "markdown": "---\ntitle: \"week 6\"\nauthor: \"rachel babadzhanov\"\nexecute:\n  eval: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\ntweets <- readRDS(\"ncod_tweets.rds\")\n```\n:::\n\n\n## 5.2 Summarise\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse) #loads dplyr as well\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.0     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.1.8\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the \u001b]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001b]8;;\u0007 to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nfavourite_summary <- summarise(tweets, # name of the data table\n                           mean_favs = mean(favorite_count),\n                           median_favs = median(favorite_count),\n                           min_favs = min(favorite_count),\n                           max_favs = max(favorite_count))\n\nknitr::kable(favourite_summary) #print output\n```\n\n::: {.cell-output-display}\n| mean_favs| median_favs| min_favs| max_favs|\n|---------:|-----------:|--------:|--------:|\n|  29.71732|           3|        0|    22935|\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfavourite_summary <- summarise(tweets,\n                           mean_favs = mean(favorite_count),\n                           median_favs = median(favorite_count),\n                           min_favs = min(favorite_count),\n                           max_favs = max(favorite_count),\n                           sd_favs = sd(favorite_count),\n                           mean_RTs = mean(retweet_count),\n                           median_RTs = median(retweet_count),\n                           min_RTs = min(retweet_count),\n                           max_RTs = max(retweet_count),\n                           sd_RTs = sd(favorite_count))\n\nknitr::kable(favourite_summary)\n```\n\n::: {.cell-output-display}\n| mean_favs| median_favs| min_favs| max_favs|  sd_favs| mean_RTs| median_RTs| min_RTs| max_RTs|   sd_RTs|\n|---------:|-----------:|--------:|--------:|--------:|--------:|----------:|-------:|-------:|--------:|\n|  29.71732|           3|        0|    22935| 329.9982| 3.166632|          0|       0|    2525| 329.9982|\n:::\n:::\n\n\nExample of plotting a histogram of the favorite counts, in log scale.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(tweets, aes(x = favorite_count)) +\n  geom_histogram(bins = 25) +\n  scale_x_continuous(trans = \"pseudo_log\", \n                     breaks = c(0, 1, 10, 100, 1000, 10000))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nAnother example of adding individual functions to summarise.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntweet_summary <- tweets %>%\n  summarise(mean_favs = mean(favorite_count),\n            median_favs = quantile(favorite_count, .5),\n            n = n(), # count all rows\n            min_date = min(created_at), # find the minimum date\n            max_date = max(created_at)) # find the maximum date\n\nglimpse(tweet_summary)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 1\nColumns: 5\n$ mean_favs   <dbl> 29.71732\n$ median_favs <dbl> 3\n$ n           <int> 28626\n$ min_date    <dttm> 2021-10-10 00:10:02\n$ max_date    <dttm> 2021-10-12 20:12:27\n```\n:::\n:::\n\n\nExample of writing inline code.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndate_from <- tweet_summary$min_date %>% \n  format(\"%d %B, %Y\")\ndate_to <- tweet_summary$max_date %>% \n  format(\"%d %B, %Y\")\n```\n:::\n\n\nThere were 28626 tweets between 10 October, 2021 and 12 October, 2021.\n\n## 5.3.2 Pipes\n\nExample of using the pipe operate syntax `%>%`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntweets_per_user <- tweets %>%\n  count(screen_name, sort = TRUE)\n\nhead(tweets_per_user)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  screen_name         n\n  <chr>           <int>\n1 interest_outfit    35\n2 LeoShir2           33\n3 NRArchway          32\n4 dr_stack           32\n5 bhavna_95          25\n6 WipeHomophobia     23\n```\n:::\n:::\n\n\n## 5.4 Counting\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntweets_per_user <- tweets %>%\n  count(screen_name, sort = TRUE)\n\nhead(tweets_per_user)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 2\n  screen_name         n\n  <chr>           <int>\n1 interest_outfit    35\n2 LeoShir2           33\n3 NRArchway          32\n4 dr_stack           32\n5 bhavna_95          25\n6 WipeHomophobia     23\n```\n:::\n:::\n\n\n## 5.5 Grouping\n\nTwo ways to use the `group_by` function.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntweets_grouped <- tweets %>%\n  group_by(verified)\n\nverified <- tweets_grouped %>%\n  summarise(count = n(),\n            mean_favs = mean(favorite_count),\n            mean_retweets = mean(retweet_count)) %>%\n  ungroup()\n\nknitr::kable(verified)\n```\n\n::: {.cell-output-display}\n|verified | count| mean_favs| mean_retweets|\n|:--------|-----:|---------:|-------------:|\n|FALSE    | 26676|  18.40576|      1.825649|\n|TRUE     |  1950| 184.45949|     21.511282|\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nverified <- tweets %>%\n  group_by(verified) %>%\n  summarise(count = n(),\n            mean_favs = mean(favorite_count),\n            mean_retweets = mean(retweet_count)) %>%\n  ungroup()\n\nknitr::kable(verified)\n```\n\n::: {.cell-output-display}\n|verified | count| mean_favs| mean_retweets|\n|:--------|-----:|---------:|-------------:|\n|FALSE    | 26676|  18.40576|      1.825649|\n|TRUE     |  1950| 184.45949|     21.511282|\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}